# New users: MAU and DAU dynamic analysis


При анализе, в первую очередь мы сосредоточимся на том, как определить, является ли изменение в метрике результатами наших действий, либо же какими-то естественными колебаниями данных, зависящими от разных факторов.
Далее, мы перейдем непосредственно к выводам по той или иной задаче (анализ трафика страниц категорий и параметров / анализ трафика по q-pages и т.д.)    

- [Как анализировать влияние изменений на метрику](https://github.com/chrom2128506/playbook_analysis/blob/main/New%20users.md#анализ-влияния-изменений-на-метрику)
- [Анализ влияния релиза каталога на трафик](https://github.com/chrom2128506/playbook_analysis/blob/main/New%20users.md#анализ-влияния-релиза-каталога-на-трафик)


## Как анализировать влияние изменений на метрику

#### Небольшой список терминов для анализа метрик в динамике

**Тренд** - долгосрочный подьем или спад в метрике.  
**Сезонность** - временной ряд называется сезонным, когда на него влияют сезонные факторы (день недели, месяц, год и т. д.).  
**Цикличность** - цикл наблюдается когда в данных имеются спуски и подьемы не имеющие фиксированной частоты привязанной к календарным циклам. Такие флуктуации часто относятся к экономическим условиям или "бизнес циклам".  


Например, на данных графиках слева изображен временной ряд с восходящим трендом, но без сезонности, на правом графике изображен ряд с также восходящим трендом и выраженной годовой сезонностью:


![](https://github.com/chrom2128506/playbook_analysis/blob/main/screens/Seasonality%20and%20trend%20example.png)

В нашем случае, сезонность по некоторым может быть не настолько ярко выражена, однако также присутствовать.
В качестве примера возьмем показатель MAU в категории “Барбекю”:

![](https://github.com/chrom2128506/playbook_analysis/blob/main/screens/Seasonality%20Lalafo%20example.png)

Здесь мы также аналогично общий восходящий тренд и годовую сезонность с пиками в мае и минимальными значениями за год в ноябре.

Стоит помнить, что тренд и сезонность - это отдельные компоненты временного ряда, то есть, мы должны отдельно смотреть на сезонность и отдельно на тренд. Как можно видеть из примера выше - МАУ в категории барбекю от года к году растет, но в каждом году мы при этом замечаем паттерн, что в мае МАУ всегда выше чем в соседние месяцы.

### Этап 1: Выявить сезонность или цикличность (если таковые имеются)  

Для выявления сезонности, в первую очередь, необходимо подумать, склонна ли категория, которую мы анализируем к определенной годовой сезонности (паттерны различия от месяца к месяцу)?  
Например, если мы берем категорию "Барбекю", то логично предположить, что данная категория более актуальна для теплых месяцев года (конец весны-лето), в остальные же месяцы посетителей этой категории будет значительно меньше.
Однако, если мы возьмем, например, категорию "Мобильные телефоны и аксессуары" - мы увидим, данная категория не подвержена ярко выраженной сезонности, поскольку телефоны покупают/продают постоянно, вне зависимости от времени года:

![](https://github.com/chrom2128506/playbook_analysis/blob/main/screens/Mob%20Phones%20no%20trend%20example.png)

Далее, смотрим на колебания в самих данных по месяцам и проверяем нашу "гипотезу": определяем, есть ли в каждом году месяцы, в которые MAU заметно выше или же заметно ниже и такой паттерн повторяется от года к году?

**Примечания:**
а) Для более удобного определения - лучше выбирать временной диапазон так, чтобы мы имели "полные" года. Например, с февраля 2020го по февраль 2022го.
б) Этот пункт актуален, только если у нас в данных по категории имеется хотя бы один полный год. Иначе - данный пункт можно пропустить.  


### Этап 2: Выявить общий тренд и колебания, которым была подвержена метрика до нашего изменения

Для того чтобы с большей степенью уверенности сказать, "улучшил" или "ухудшил" наш релиз метрику - нам необходимо понимать ее поведение и общий тренд до этого.

*Например*, предположим что в определенной категории у нас был релиз каталога в июне и в июле мы уже наблюдаем 100% рост метрики:

![](https://github.com/chrom2128506/playbook_analysis/blob/main/screens/Materialdar%20growth%20example.png)

Можно было бы предположить, что наше изменение повлияло строго положительно, однако мы видим, что несколько месяцев назад (с марта на апрель) также наблюдался аналогичный стопроцентный рост без нашего вмешательства. Таким образом, как положительным эффектом, рост в июле с такой же вероятностью мог быть и естественным колебанием и наше изменение на него никоим образом не повлияло, *поэтому, в данном случае, мы не можем делать вывод об "улучшении" метрики*.   


**ВАЖНО!** При рассмотрении существенных подьемов/спусков в метрике, как после изменения, так и до нее, нужно также соотносить эти всплески с:  
  - Календарем релизов (возможно, то что мы считали за предшествующее естественное колебание - было вызвано изменениями в категории или продукте в целом);
  - Явными внешними причинами по гео (экономический кризис / война / аномальная погода и т.д.)


*Другой пример*, связанный с трендом. Предположим, с декабря мы наблюдаем рост метрики DAU. В феврале у нас происходит релиз каталога и мы по прежнему наблюдаем такой же тренд, без особых всплесков:

![](https://github.com/chrom2128506/playbook_analysis/blob/main/screens/Fake%20growth%20example.png)

В таком случае, *мы также не можем сделать очевидный вывод о том что рост метрики наблюдается ввиду нашего изменения.* Необходим более детальный анализ (спуск до подкатегорий, сравнение DAU и MAU и тд.). Мы можем заключить разве что, что *наше изменение НЕ ПОВЛИЯЛО на к-во пользователей в отрицательную сторону.*



### Этап 3: Сделать вывод касательно изменений

Итого, основываясь на всем вышесказанном, чтобы более однозначно сказать об улучшениях, мы должны наблюдать следующие кейсы:
- До нашего изменения наблюдался монотонный спад, а после изменения мы наблюдаем рост;
- В случае растущего тренда или отсутствии тренда - после изменения мы наблюдаем более резкий подьем метрики;
- Если категория подвержена сезонности - рост метрики в процентном соотношении в этом месяце превышает процентный рост ввиду сезонных колебаний;
- Мы наблюдаем положительные изменения в DAU в течении последующих 2х-3х недель и рост в MAU в следующем месяце после изменения. Если этого не происходит - значит наши изменения не вызвали необходимый эффект;  
- Среднее к-во юзеров находится в диапазоне хотя бы >= 10. Например, если мы фиксируем изменение ДАУ с 5 пользователей на 10 пользователей, такое изменение нельзя считать значимым. В таком случае, есть 2 варианта проведения анализа:
  1. Обьединяем несколько категорий между собой ЛИБО в принципе анализируем категорию более высокого уровня, если есть такая возможность.
  2. Анализируем только изменения MAU.


## Анализ влияния релиза каталога на трафик


### Проработка страниц категорий и параметров под популярные поисковые запросы  

- Если после релиза наблюдается резкое падение трафика, необходимо проверить:
  - Не было ли отключения категорий в результате релиза/переносов
  - Не возникало ли ошибок в формировании titles/descriptions

- Если какие-либо видимые изменения отсутствуют или опять же наблюдается падение метрики:
  - Перейти на следующий этап проверки популярных запросов через Google Search Console и их средней позиции в поиске после релиза (см. задачу 1.2 в [Playbook](https://docs.google.com/spreadsheets/d/1sAPARB9uq9iK6N5iMuEeWubPpToB81PJ05cUDXVN2A4/edit#gid=460687990))  

  В случае, если релиз происходил для большой категории - необходимо по отдельности отфильтровать данные по подкатегориям в отдельности для локализации проблемы.

### Анализ проработки полезных ссылок под менее популярные поисковые запросы

- Если после релиза наблюдается резкое падение трафика по q-pages, необходимо проверить:
  - Не было ли отключения q-pages в результате релиза/переносов

- Если какие-либо видимые изменения отсутствуют или есть незначительные падение метрики:
  - Проверить релевантность автоматического присвоения системой q-pages в категории в админке
  - Если категория по которой мы проводим анализ, ранее была скреплена с другой категорий - проверить трафик по q-pages вместе с этой категорией (см. **Use case 1** ниже)

**Use case 1**

- Ранее, в каталоге существовала объединенная категория "Автозапчасти и аксессуары для автомобилей";
- Категорию разделили на 2 отдельных категории: "Автозапчасти" и "Аксессуары для автомобилей"
- После релиза - трафик по q-pages в обеих категориях по отдельности упал, однако при рассмотрении категорий вместе - трафик, на самом деле, вырос
